/* 	Quick and dirty JS helper pour tests
		Cf. API SpeechSynthesis
		https://developer.mozilla.org/en/docs/Web/API/SpeechSynthesis
*/

function r(a){/in/.test(document.readyState)?setTimeout("r("+a+")",9):a()}r(function(){function k(a){a.preventDefault();var b=this.id;switch(b){case"speak":f.paused?speechSynthesis.resume():speechSynthesis.speak(f);break;case"pause":speechSynthesis.pause(),f.paused=!0;break;case"stop":speechSynthesis.cancel(),f.paused=!1;break;default:console.log("Eh merde. Ça a buggé.")}l(),this.classList.add("tts-active")}function l(){var a=document.getElementsByClassName("tts-active")[0];a&&a.classList.toggle("tts-active")}if("speechSynthesis"in window){var a=document.getElementsByTagName("head")[0],b=document.createElement("style"),c=document.getElementsByTagName("body")[0],d=document.createElement("div"),e=c.innerText,f=new SpeechSynthesisUtterance(e);f.pitch=1,f.lang="fr-FR";for(var g=["speak","pause","stop"],h=0;h<g.length;h++){var i=g[h],j=document.createElement("button");j.setAttribute("role","button"),j.classList.add("tts-control"),j.id=i,j.innerText=i,d.appendChild(j),j.addEventListener("touchend",k,!0),j.addEventListener("click",k,!0)}d.id="tts-menu",c.insertBefore(d,c.firstChild),b.setAttribute("type","text/css"),b.textContent="button {cursor: pointer; font-size: 1rem; padding: 0.5rem 1.5rem; border: 2px solid black; background-color: white; transition: 300ms all; margin: 0 1%}  #menu {display: block; margin: 1.75em auto; text-align: center} #menu:first-child {margin-left: 0;} #menu:last-child {margin-right: 0;} .tts-active {background-color: #333; color: white; transition: 300ms all;}",a.appendChild(b),f.onend=function(a){l(),f.paused=!1}}});